(function(b,c){'object'==typeof exports&&'object'==typeof module?module.exports=c():'function'==typeof define&&define.amd?define([],c):'object'==typeof exports?exports.mrz=c():b.mrz=c()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p='',b(0)}([function(a,b,c){'use strict';const d=c(1),e=c(2);a.exports={COUNTRIES:d,parse:e}},function(a){'use strict';a.exports={ABW:'Aruba',AFG:'Afghanistan',AGO:'Angola',AIA:'Anguilla',ALA:'\xC5land Islands',ALB:'Albania',AND:'Andorra',ARE:'United Arab Emirates',ARG:'Argentina',ARM:'Armenia',ASM:'American Samoa',ATA:'Antarctica',ATF:'French Southern Territories',ATG:'Antigua and Barbuda',AUS:'Australia',AUT:'Austria',AZE:'Azerbaijan',BDI:'Burundi',BEL:'Belgium',BEN:'Benin',BES:'Bonaire, Sint Eustatius and Saba',BFA:'Burkina Faso',BGD:'Bangladesh',BGR:'Bulgaria',BHR:'Bahrain',BHS:'Bahamas',BIH:'Bosnia and Herzegovina',BLM:'Saint Barth\xE9lemy',BLR:'Belarus',BLZ:'Belize',BMU:'Bermuda',BOL:'Bolivia, Plurinational State of',BRA:'Brazil',BRB:'Barbados',BRN:'Brunei Darussalam',BTN:'Bhutan',BVT:'Bouvet Island',BWA:'Botswana',CAF:'Central African Republic',CAN:'Canada',CCK:'Cocos (Keeling) Islands',CHE:'Switzerland',CHL:'Chile',CHN:'China',CIV:'C\xF4te d\'Ivoire',CMR:'Cameroon',COD:'Congo, the Democratic Republic of the',COG:'Congo',COK:'Cook Islands',COL:'Colombia',COM:'Comoros',CPV:'Cabo Verde',CRI:'Costa Rica',CUB:'Cuba',CUW:'Cura\xE7ao',CXR:'Christmas Island',CYM:'Cayman Islands',CYP:'Cyprus',CZE:'Czechia',D:'Germany',DEU:'Germany',DJI:'Djibouti',DMA:'Dominica',DNK:'Denmark',DOM:'Dominican Republic',DZA:'Algeria',ECU:'Ecuador',EGY:'Egypt',ERI:'Eritrea',ESH:'Western Sahara',ESP:'Spain',EST:'Estonia',ETH:'Ethiopia',FIN:'Finland',FJI:'Fiji',FLK:'Falkland Islands (Malvinas)',FRA:'France',FRO:'Faroe Islands',FSM:'Micronesia, Federated States of',GAB:'Gabon',GBD:'British Overseas Territories Citizen (BOTC)',GBN:'British National (Overseas)',GBO:'British Overseas Citizen',GBP:'British Protected Person',GBR:'United Kingdom',GBS:'British Subject',GEO:'Georgia',GGY:'Guernsey',GHA:'Ghana',GIB:'Gibraltar',GIN:'Guinea',GLP:'Guadeloupe',GMB:'Gambia',GNB:'Guinea-Bissau',GNQ:'Equatorial Guinea',GRC:'Greece',GRD:'Grenada',GRL:'Greenland',GTM:'Guatemala',GUF:'French Guiana',GUM:'Guam',GUY:'Guyana',HKG:'Hong Kong',HMD:'Heard Island and McDonald Islands',HND:'Honduras',HRV:'Croatia',HTI:'Haiti',HUN:'Hungary',IDN:'Indonesia',IMN:'Isle of Man',IND:'India',IOT:'British Indian Ocean Territory',IRL:'Ireland',IRN:'Iran, Islamic Republic of',IRQ:'Iraq',ISL:'Iceland',ISR:'Israel',ITA:'Italy',JAM:'Jamaica',JEY:'Jersey',JOR:'Jordan',JPN:'Japan',KAZ:'Kazakhstan',KEN:'Kenya',KGZ:'Kyrgyzstan',KHM:'Cambodia',KIR:'Kiribati',KNA:'Saint Kitts and Nevis',KOR:'Korea, Republic of',KWT:'Kuwait',LAO:'Lao People\'s Democratic Republic',LBN:'Lebanon',LBR:'Liberia',LBY:'Libya',LCA:'Saint Lucia',LIE:'Liechtenstein',LKA:'Sri Lanka',LSO:'Lesotho',LTU:'Lithuania',LUX:'Luxembourg',LVA:'Latvia',MAC:'Macao',MAF:'Saint Martin (French part)',MAR:'Morocco',MCO:'Monaco',MDA:'Moldova, Republic of',MDG:'Madagascar',MDV:'Maldives',MEX:'Mexico',MHL:'Marshall Islands',MKD:'Macedonia, the former Yugoslav Republic of',MLI:'Mali',MLT:'Malta',MMR:'Myanmar',MNE:'Montenegro',MNG:'Mongolia',MNP:'Northern Mariana Islands',MOZ:'Mozambique',MRT:'Mauritania',MSR:'Montserrat',MTQ:'Martinique',MUS:'Mauritius',MWI:'Malawi',MYS:'Malaysia',MYT:'Mayotte',NAM:'Namibia',NCL:'New Caledonia',NER:'Niger',NFK:'Norfolk Island',NGA:'Nigeria',NIC:'Nicaragua',NIU:'Niue',NLD:'Netherlands',NOR:'Norway',NPL:'Nepal',NRU:'Nauru',NZL:'New Zealand',OMN:'Oman',PAK:'Pakistan',PAN:'Panama',PCN:'Pitcairn',PER:'Peru',PHL:'Philippines',PLW:'Palau',PNG:'Papua New Guinea',POL:'Poland',PRI:'Puerto Rico',PRK:'Korea, Democratic People\'s Republic of',PRT:'Portugal',PRY:'Paraguay',PSE:'Palestine, State of',PYF:'French Polynesia',QAT:'Qatar',REU:'R\xE9union',ROU:'Romania',RUS:'Russian Federation',RWA:'Rwanda',SAU:'Saudi Arabia',SDN:'Sudan',SEN:'Senegal',SGP:'Singapore',SGS:'South Georgia and the South Sandwich Islands',SHN:'Saint Helena, Ascension and Tristan da Cunha',SJM:'Svalbard and Jan Mayen',SLB:'Solomon Islands',SLE:'Sierra Leone',SLV:'El Salvador',SMR:'San Marino',SOM:'Somalia',SPM:'Saint Pierre and Miquelon',SRB:'Serbia',SSD:'South Sudan',STP:'Sao Tome and Principe',SUR:'Suriname',SVK:'Slovakia',SVN:'Slovenia',SWE:'Sweden',SWZ:'Swaziland',SXM:'Sint Maarten (Dutch part)',SYC:'Seychelles',SYR:'Syrian Arab Republic',TCA:'Turks and Caicos Islands',TCD:'Chad',TGO:'Togo',THA:'Thailand',TJK:'Tajikistan',TKL:'Tokelau',TKM:'Turkmenistan',TLS:'Timor-Leste',TON:'Tonga',TTO:'Trinidad and Tobago',TUN:'Tunisia',TUR:'Turkey',TUV:'Tuvalu',TWN:'Taiwan, Province of China',TZA:'Tanzania, United Republic of',UGA:'Uganda',UKR:'Ukraine',UMI:'United States Minor Outlying Islands',UNA:'specialized agency of the United Nations',UNK:'Resident of Kosovo issued byUNMIK',UNO:'United Nations organization',URY:'Uruguay',USA:'United States of America',UZB:'Uzbekistan',VAT:'Holy See (Vatican City State)',VCT:'Saint Vincent and the Grenadines',VEN:'Venezuela, Bolivarian Republic of',VGB:'Virgin Islands, British',VIR:'Virgin Islands, U.S.',VNM:'Viet Nam',VUT:'Vanuatu',WLF:'Wallis and Futuna',WSA:'World Service Authority World Passport',WSM:'Samoa',XOM:'Sovereign Military Order of Malta',XXA:'Stateless person',XXB:'Refugee, as per the 1951 Convention',XXC:'Refugee, other than defined above',XXX:'Unspecified nationality',YEM:'Yemen',ZAF:'South Africa',ZMB:'Zambia',ZWE:'Zimbabwe'}},function(a,b,c){'use strict';var d=c(3),e=c(19),f=c(21),g=c(23);a.exports=function(j){var k=j.split(/[\r\n]+/),l={logs:[]};switch(k.length){case 2:l=41>k[0].length?e(k):f(k);break;case 3:l=15>k[0].length?g(k):d(k);break;default:l.logs.push('We need 2 or 3 lines');}return l}},function(a,b,c){'use strict';var d=c(4),e=c(6),f=c(8),g=c(9),h=c(10),j=c(11),k=c(13),l=c(14),m=c(16),n=c(17),o=c(18);a.exports=function(q){var r={format:'TD1',error:[]},s=q[0],t=q[1],u=q[2];return 30!==s.length&&r.error.push('First line does not have 30 symbols'),r.documentType=h(s.substring(0,2)),r.issuingCountry=k(s.substring(2,5)),r.optional1=e('Optional 1',s.substring(15,30)),r.documentNumber=g(s.substring(5,14),s.substr(14,1),r.optional1.value),30!==t.length&&r.error.push('Second line does not have 30 symbols'),r.birthDate=l(t.substring(0,6),t.substr(6,1)),r.sex=f(t.substr(7,1)),r.expirationDate=l(t.substring(8,14),t.substr(14,1)),r.nationality=j(t.substring(15,18),t.substr(18,1)),r.optional2=e('Optional 2',t.substring(18,29)),30!==u.length&&r.error.push('Third line does not have 30 symbols'),r.lastname=n('Lastname',u.substring(0,30)),r.firstname=o('Firstname',u.substring(0,30)),r.globalCheck=d(s.substring(5,30)+t.substring(0,7)+t.substring(8,15)+t.substring(18,29),t.substr(29,1)),m(r),r}},function(a,b,c){'use strict';var d=c(5);a.exports=function(f,g){var h=d(f,g),j=[];return h||j.push('Check digit error.'),{ifValid:h,source:f,label:'Global check digit',error:j}}},function(a){'use strict';a.exports=function(d,e){for(var j,f=0,g=[7,3,1],h=0;h<d.length;h++)j=d.charCodeAt(h),60===j&&(j=0),65<=j&&(j-=55),48<=j&&(j-=48),j*=g[h%3],f+=j;return f%10===+e}},function(a,b,c){'use strict';var d=c(7);a.exports=function(f,g,h=/^[0-9A-Z<]+$/){var j={source:g,label:f,value:d(g),error:[]};return g.match(h)||j.error.push('It must match the following regexp: '+h),j}},function(a){'use strict';a.exports=function(d){return d.replace(/<+$/g,'').replace(/</g,' ')}},function(a){'use strict';a.exports=function(d){var e={source:d,label:'Sex',error:[]};return'<'===d?e.value='Unknown':'M'===d?e.value='Male':'F'===d?e.value='Female':e.error.push(`The sex "${d}" is incorrect. Allowed values: M, F or <.`),e}},function(a,b,c){'use strict';var d=c(5);a.exports=function(f,g,h){'<'===g&&h&&(h=h.replace(/<.*/,''),f+=h.substring(0,h.length-1),g=h.charAt(h.length-1));var j={source:f,label:'Document number',value:f,error:[]};return d(f,g)||j.push('Check digit "'+g+'" not valid'),j}},function(a){'use strict';a.exports=function(d){var e=d.substring(0,1),f=d.substring(1,2).replace('<',''),g={source:d,label:'Document type',error:[]};return'P'===e?g.value='Passport':'I'===e?g.value='Identity card':'A'===e?g.value='':'C'===e?g.value='':g.error.push('Document type must be either P, I, A or C'),'V'===f&&g.error.push('Document type (second symbol) may not be V'),g}},function(a,b,c){'use strict';var d=c(12);a.exports=function(f){var g=d(f);return g.label='Nationality',g}},function(a,b,c){'use strict';const d=c(1);a.exports=function(f){var g=d[f],h={source:f,value:g||f,label:'Country',error:[]};return g||h.error.push('The country code "'+f+'" is unknown'),h}},function(a,b,c){'use strict';var d=c(12);a.exports=function(f){var g=d(f);return g.label='Issuing country',g}},function(a,b,c){'use strict';var d=c(15);a.exports=function(f,g){var h=d(f,g);return h.label='Birthday date',h}},function(a,b,c){'use strict';var d=c(5);a.exports=function(f,g){var h={error:[]};return h.year=f.substring(0,2),h.month=f.substring(2,4),h.day=f.substring(4,6),h.value=h.day+'.'+h.month+'.'+h.year,!1===g||d(f,g)||h.error.push('Check digit "'+g+'" not valid'),(1>h.month||12<h.month)&&h.error.push('Month "'+h.month+'" not valid'),(1>h.day||31<h.day)&&h.error.push('Day "'+h.day+'" not valid'),h}},function(a){'use strict';a.exports=function(d){d.isValid=!0,d.logs=[];for(var e of Object.keys(d))if(d[e]instanceof Object&&!Array.isArray(d[e])){if(d[e].error&&0<d[e].error.length){d[e].isValid=!1,d.isValid=!1;for(var f of d[e].error)d.error.push(d[e].label+': '+f)}else d[e].isValid=!0;d.logs.push(Object.assign({},d[e],{field:e}))}}},function(a,b,c){'use strict';var d=c(6);a.exports=function(f,g){var h=d('Firstname',g.replace(/<{2}.*/,''),/^[A-Z<]+<*$/);return h}},function(a,b,c){'use strict';var d=c(6);a.exports=function(f,g){var h=d('Lastname',g.replace(/.*?<{2}/,''),/^[A-Z<]+<*$/);return h}},function(a,b,c){'use strict';var d=c(4),e=c(8),f=c(9),g=c(10),h=c(11),j=c(13),k=c(14),l=c(20),m=c(16),n=c(17),o=c(18);a.exports=function(q){var r={error:[],format:'TD2'},s=q[0],t=q[1];return 36!==s.length&&r.error.push('First line does not have 36 symbols'),r.documentType=g(s.substring(0,2)),r.issuingCountry=j(s.substring(2,5)),r.lastname=n('Lastname',s.substring(5,36)),r.firstname=o('Firstname',s.substring(5,36)),36!==t.length&&r.error.push('Second line does not have 36 symbols'),r.documentNumber=f(t.substring(0,9),t.substr(9,1),t.substr(28,35)),r.nationality=h(t.substring(10,13)),r.birthDate=k(t.substring(13,19),t.substr(19,1)),r.sex=e(t.substring(20,21)),r.expirationDate=l(t.substring(21,27),t.substr(27,1)),r.globalCheck=d(t.substring(0,10)+t.substring(13,20)+t.substring(21,35),t.substr(35,1)),m(r),r}},function(a,b,c){'use strict';var d=c(15);a.exports=function(f,g){var h=d(f,g);return h.label='Expiration date',h}},function(a,b,c){'use strict';var d=c(4),e=c(8),f=c(9),g=c(10),h=c(12),j=c(14),k=c(20),l=c(16),m=c(17),n=c(18),o=c(22);a.exports=function(q){var r={error:[],format:'TD3'},s=q[0],t=q[1];return 44!==s.length&&r.error.push('First line does not have 44 symbols'),r.documentType=g(s.substring(0,2)),r.issuingCountry=h(s.substring(2,5)),r.lastname=m('Lastname',s.substring(5,50)),r.firstname=n('Firstname',s.substring(5,50)),r.documentNumber=f(t.substring(0,9),t.substr(9,1)),r.nationality=h(t.substring(10,13)),r.birthDate=j(t.substring(13,19),t.substr(19,1)),44!==t.length&&r.error.push('Second line does not have 44 symbols'),r.sex=e(t.substring(20,21)),r.expirationDate=k(t.substring(21,27),t.substr(27,1)),r.personalNumber=o(t.substring(28,42)),r.globalCheck=d(t.substring(0,10)+t.substring(13,20)+t.substring(21,43),t.substr(43,1)),l(r),r}},function(a,b,c){'use strict';var d=c(6),e=c(5);a.exports=function(g,h){var j=d('Personal number',g,/^[A-Z<]+<*$/);return e(g,h)||j.error.push('Check digit "'+h+'" not valid'),j}},function(a,b,c){'use strict';var d=c(24),e=c(25),f=c(12),g=c(14),h=c(26),j=c(27),k=c(16),l=c(17),m=c(18);a.exports=function(o){var p={format:'PCC',error:[]},q=o[0];9!==q.length&&p.error.push('First line does not have 9 symbols');var r=o[1];30!==r.length&&p.error.push('Second line does not have 30 symbols');var s=o[2];return 30!==s.length&&p.error.push('Third line does not have 30 symbols'),p.documentNumber=d(q),p.documentType=e(r.substring(0,2)),p.issuingCountry=f(r.substring(2,5)),p.nipCode=h('NIP code',r.substring(5,14)),p.version=h('Version',r.substring(14,17)),p.separator1=j('Separator second line 18-19',r.substring(17,19)),p.birthDate=g(r.substring(19,25),!1),p.separator1=j('Separator second line 26-30',r.substring(25,30)),p.lastname=l('Lastname',s.substring(0,30)),p.firstname=m('Firstname',s.substring(0,30)),k(p),p}},function(a){'use strict';a.exports=function(d){var e=d.substring(0,3),f=d.substring(3,6),g=d.charAt(6),h=d.substring(7),j={label:'Document number',source:d,error:[]};e.match(/^[A-Z]{3}$/)||j.error.push(`The document number "${d}" is incorrect. Need to start by 3 uppercase letters.`),f.match(/^[0-9]{3}$/)||j.error.push(`The document number "${d}" is incorrect. Need to have 3 digits in position 3, 4 and 5.`),'<<'!==h&&j.error.push(`The document number "${d}" is incorrect. Need to end with <<.`);var k;return'D'===g?k='German':'F'===g?k='French':'I'===g?k='Italian':'R'===g?k='Romansh':j.error.push(`The document number "${d}" is incorrect. Language ${g} unknown.`),j.value=e+f+' - language: '+k,j}},function(a){'use strict';a.exports=function(d){var e={label:'Document type',source:d,error:[]};switch(e.source){case'FA':e.value='Swiss driving license';break;default:e.error.push('Swiss driving license must have a document type "FA"');}return e}},function(a){'use strict';a.exports=function(d,e){var f={error:[],label:d,source:e};return e.match(/^[0-9]+$/)||f.error.push('It may only be composed of numbers'),f}},function(a){'use strict';a.exports=function(d,e){var f={source:e,error:[],label:d};return e.match(/^<*$/)||f.error.push('The separator must be composed only by "<"'),f}}])});
//# sourceMappingURL=mrz.min.js.map