{"version":3,"sources":["webpack:///mrz/webpack/universalModuleDefinition","webpack:///mrz/webpack/bootstrap c426d459727929a74d80","webpack:///mrz/./src/util/check.js","webpack:///mrz/./src/util/parseBirthdayDate.js","webpack:///mrz/./src/util/parseCountry.js","webpack:///mrz/./src/util/parseFirstname.js","webpack:///mrz/./src/util/parseLastname.js","webpack:///mrz/./src/util/parseText.js","webpack:///mrz/./src/util/totalCheck.js","webpack:///mrz/./src/util/globalCheck.js","webpack:///mrz/./src/util/parseDocumentNumber.js","webpack:///mrz/./src/util/parseDocumentType.js","webpack:///mrz/./src/util/parseSex.js","webpack:///mrz/./src/generated/countries.js","webpack:///mrz/./src/util/parseDate.js","webpack:///mrz/./src/util/parseExpirationDate.js","webpack:///mrz/./src/util/parseIssuingCountry.js","webpack:///mrz/./src/util/parseNationality.js","webpack:///mrz/./src/parse/parse.js","webpack:///mrz/./src/parse/pcc.js","webpack:///mrz/./src/parse/td1.js","webpack:///mrz/./src/parse/td2.js","webpack:///mrz/./src/parse/td3.js","webpack:///mrz/./src/util/checkSeparator.js","webpack:///mrz/./src/util/cleanText.js","webpack:///mrz/./src/util/parseNumber.js","webpack:///mrz/./src/util/parsePersonalNumber.js","webpack:///mrz/./src/util/pcc/parseDocumentNumber.js","webpack:///mrz/./src/util/pcc/parseDocumentType.js","webpack:///mrz/./src/index.js"],"names":[],"mappings":"AAAA,cACA,2BACA,uCACA,sCACA,cACA,GACA,qCAEA,UACA,GAAC,mBACD,kBCTA,cAMA,MACA,eAGA,mBACA,GACA,EACA,KAIA,mDAGA,KAGA,OACA,OAIA,IAzBA,iBA4BA,MAGA,iBAA2C,OAAc,EAGzD,qBACA,OACA,8BACA,CACA,gBACA,kBAGA,GAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,OAAe,EAChD,mBACA,GACA,CAGA,mBAAsD,+CAA+D,EAGrH,MAGA,2BChEA,aAEA,uBACA,aACA,EACA,YAAmB,MAAmB,OACtC,mBACA,cACA,cACA,eACA,WACA,MAEA,iBACA,oBCdA,aAEA,YAEA,uBACA,WACA,kBACA,gBACA,oBCRA,aAEA,cAEA,qBACA,SACA,KACA,CACA,kBACA,QACA,UAEA,gBACA,wCAEA,gBACA,oBChBA,aAEA,WAEA,uBACA,+BAA4D,aAC5D,qBACA,qBCPA,aAEA,WAEA,uBACA,8BAA8D,cAC9D,qBACA,qBCPA,aAEA,YAEA,wCACA,OACA,CACA,SACA,gBACA,GAEA,yBACA,wDAEA,GACA,gBCVA,aAGA,qBACA,GACA,aACA,iCACA,kDACA,oCACA,MACA,aACA,6BACA,mCAEA,EACA,WAEA,kBACA,YAAgC,gBAAgB,MAEhD,IAMA,oBC/BA,aAEA,WAEA,uBACA,WACA,GACA,WACA,WAEA,sBACA,SACA,EACA,yBACA,kBACA,qBAEA,2BCjBA,aAEA,QAKA,GAEA,yBACA,UACA,sBACA,8BACA,uBAEA,UACA,CACA,eACA,wCACA,IAEA,qBACA,mCAEA,eACA,gBCzBA,aAGA,qBACA,qBACA,kCAEA,MACA,CACA,eACA,gBAGA,gBAEA,MADA,UAGA,WACA,gBAEA,gBACA,gBAEA,GACA,gBAGA,gBAEA,6CACA,sBAEA,8CACA,gBCjCA,aAEA,qBACA,OACA,CACA,eACA,MAEA,gBAEA,MADA,UAGA,UACA,gBAEA,OACA,gBAGA,kCAA0C,CAG1C,8CACA,gBCtBiB,aACjB,E,ohKCFA,aAEA,WAEA,uBACA,OACA,CACA,gBAEA,+BACA,yBACA,uBACA,mCACA,iBACA,mCAEA,2BACA,4CAEA,yBACA,sCAEA,eACA,oBCvBA,aAEA,YAEA,uBACA,WACA,kBACA,kBACA,oBCRA,aAEA,WAEA,qBACA,SACA,kBACA,kBACA,oBCRA,aAEA,WAEA,qBACA,SACA,kBACA,cACA,oBCRA,aAEA,QACA,QACA,QACA,YAEA,qBACA,eACA,cACA,kBACA,YACA,KACA,iBAEA,KAEA,GACA,UACA,KACA,iBAEA,KAGA,GACA,MACA,oBAEA,+BACA,qBC9BA,aAEA,QACA,QACA,QACA,OACA,OACA,QACA,QACA,OACA,UAEA,qBACA,OACA,QACA,MAEA,cACA,GACA,2BAEA,8CACA,GACA,4BAEA,gDACA,SACA,6BAGA,0DACA,kCACA,qCACA,yCACA,0CACA,iEACA,kCACA,oEACA,2CACA,6CACA,OAEA,GACA,oBC3CA,aAEA,QACA,OACA,OACA,QACA,OACA,OACA,QACA,QACA,OACA,OACA,UAEA,qBACA,OACA,QACA,MAEA,cACA,OACA,OAEA,SACA,6BAEA,sEACA,qCACA,8CACA,qEAEA,OACA,4BAEA,kFACA,uBACA,qDACA,mDACA,8CAEA,KACA,4BAEA,6EACA,6CACA,yGAEA,MACA,GACA,oBCjDA,aAEA,QACA,OACA,QACA,OACA,OACA,QACA,QACA,OACA,QACA,OACA,UAEA,qBACA,OACA,CACA,gBAGA,WACA,OAEA,SACA,6BAEA,sEACA,qCACA,0CACA,6CAEA,KACA,4BAEA,sGACA,oCACA,kDACA,2BACA,uDAEA,wFACA,MAEA,GACA,oBC5CA,aAEA,QACA,OACA,QACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,WAEA,qBACA,OACA,CACA,gBAGA,WACA,OAEA,SACA,6BAEA,sEACA,qCACA,0CACA,6CACA,oDACA,mCACA,kDAEA,IACA,4BAEA,+DACA,uDACA,sCACA,yFACA,MAEA,GACA,gBC5CA,aAEA,uBACA,OACA,CACA,SACA,SAEA,wBACA,sBAEA,8CACA,gBCZA,aAEA,qBACA,0CACA,mBCJA,aAEA,uBACA,OACA,CACA,SACA,QAEA,yBACA,0BAGA,sCACA,oBCbA,aAEA,QACA,UAEA,uBACA,6BACA,iCACA,mCAEA,eACA,gBCXA,aAGA,qBACA,qBACA,mBACA,cACA,iBAEA,KACA,OACA,kBACA,SAEA,kBACA,oDAAkD,CAElD,iEACA,oDAAkD,CAElD,iEACA,+CAAkD,CAElD,2CACA,SAEA,MADA,IAGA,SACA,UAEA,SACA,UAEA,UACA,UAGA,+CAAsD,CAAO,4BAA2B,CAExF,yCACA,EACA,gBC1CA,aAEA,qBACA,OACA,OACA,gBACA,SAEA,mBACA,YACA,aACA,wBACA,MACA,qBAEA,+DACA,qBChBA,aAGA,UACA,YAGA,UACA,CACA,YACA","file":"mrz.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mrz\"] = factory();\n\telse\n\t\troot[\"mrz\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c426d459727929a74d80","'use strict';\n\nmodule.exports = function check(string, value) {\n    var code = 0;\n    var factors = [7, 3, 1];\n    for (var i = 0; i < string.length; i++) {\n        var charCode = string.charCodeAt(i);\n        if (charCode === 60) charCode = 0;\n        if (charCode >= 65) charCode -= 55;\n        if (charCode >= 48) charCode -= 48;\n        charCode *= factors[i % 3];\n        code += charCode;\n    }\n    return code % 10 === Number(value);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/check.js\n// module id = 0\n// module chunks = 0","'use strict';\n\nvar parseDate = require('./parseDate');\n\nmodule.exports = function parseBirthdayDateDate(value, checkDigit) {\n    var result = parseDate(value, checkDigit);\n    result.label = 'Birthday date';\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseBirthdayDate.js\n// module id = 1\n// module chunks = 0","'use strict';\n\nconst COUNTRIES = require('../generated/countries');\n\nmodule.exports = function parseCountry(source) {\n    var country = COUNTRIES[source];\n    var result = {\n        source,\n        value: country || source,\n        label: 'Country',\n        error: []\n    };\n    if (!country) {\n        result.error.push('The country code \"' + source + '\" is unknown');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseCountry.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nvar parseText = require('./parseText');\n\nmodule.exports = function parseFirstname(label, source) {\n    var result = parseText('Firstname', source.replace(/<{2}.*/, ''), /^[A-Z<]+<*$/);\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseFirstname.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nvar parseText = require('.//parseText');\n\nmodule.exports = function parseFirstname(label, source) {\n    var result = parseText('Lastname', source.replace(/.*?<{2}/, ''), /^[A-Z<]+<*$/);\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseLastname.js\n// module id = 4\n// module chunks = 0","'use strict';\n\nvar cleanText = require('./cleanText');\n\nmodule.exports = function parseText(label, source, regexp = /^[0-9A-Z<]+$/) {\n    var result = {\n        source,\n        label,\n        value: cleanText(source),\n        error: []\n    };\n    if (!source.match(regexp)) {\n        result.error.push('It must match the following regexp: ' + regexp);\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseText.js\n// module id = 5\n// module chunks = 0","'use strict';\n\n/*\nWe check all the values to find out if it is valid or not\nWe will also combine all the errors  ...\n */\n\n\nmodule.exports = function globalCheck(result) {\n    result.isValid = true;\n    result.logs = [];\n    for (var key of Object.keys(result)) {\n        if (result[key] instanceof Object && !Array.isArray(result[key])) {\n            if (result[key].error && result[key].error.length > 0) {\n                result[key].isValid = false;\n                result.isValid = false;\n                for (var err of result[key].error) {\n                    result.error.push(result[key].label + ': ' + err);\n                }\n            } else {\n                result[key].isValid = true;\n            }\n            result.logs.push(\n                Object.assign({}, result[key], {field: key})\n            );\n        }\n    }\n\n    // we will also create the result as a table call 'logs'\n\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/totalCheck.js\n// module id = 6\n// module chunks = 0","'use strict';\n\nvar check = require('./check');\n\nmodule.exports = function globalCheck(source, value) {\n    var checkResult = check(source, value);\n    var error = [];\n    if (!checkResult) {\n        error.push('Check digit error.');\n    }\n    return {\n        ifValid: checkResult,\n        source,\n        value: (checkResult) ? 'valid' : 'non valid',\n        label: 'Global check digit',\n        error\n    };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/globalCheck.js\n// module id = 7\n// module chunks = 0","'use strict';\n\nvar check = require('./check');\n\n/*\n Parsing document number\n The number may be splited (TD1 format)\n */\n\nmodule.exports = function parseDocumentNumber(source, checkDigit, optional) {\n    if (checkDigit === '<' && optional) {\n        optional = optional.replace(/<.*/, '');\n        source += optional.substring(0, optional.length - 1);\n        checkDigit = optional.charAt(optional.length - 1);\n    }\n    var result = {\n        source,\n        label: 'Document number',\n        value: source.replace(/<*$/, ''),\n        error: []\n    };\n    if (!check(source, checkDigit)) {\n        result.error.push('Check digit \"' + checkDigit + '\" not valid');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseDocumentNumber.js\n// module id = 8\n// module chunks = 0","'use strict';\n\n\nmodule.exports = function parseDocumentType(source) {\n    var code = source.substring(0, 1);\n    var type = source.substring(1, 2).replace('<', '');\n\n    var result = {\n        source,\n        label: 'Document type',\n        error: []\n    };\n\n    switch (code) {\n        case 'P':\n            result.value = 'Passport';\n            break;\n        case 'I':\n            result.value = 'Identity card';\n            break;\n        case 'A':\n            result.value = '';\n            break;\n        case 'C':\n            result.value = '';\n            break;\n        default:\n            result.error.push('Document type must be either P, I, A or C');\n    }\n    if (type === 'V') {\n        result.error.push('Document type (second symbol) may not be V');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseDocumentType.js\n// module id = 9\n// module chunks = 0","'use strict';\n\nmodule.exports = function parseSex(source) {\n    var result = {\n        source,\n        label: 'Sex',\n        error: []\n    };\n    switch (source) {\n        case '<':\n            result.value = 'Unknown';\n            break;\n        case 'M':\n            result.value = 'Male';\n            break;\n        case 'F':\n            result.value = 'Female';\n            break;\n        default:\n            result.error.push(`The sex \"${source}\" is incorrect. Allowed values: M, F or <.`);\n    }\n\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseSex.js\n// module id = 10\n// module chunks = 0","'use strict'\r\nconst COUNTRIES={\"ABW\":\"Aruba\",\"AFG\":\"Afghanistan\",\"AGO\":\"Angola\",\"AIA\":\"Anguilla\",\"ALA\":\"Åland Islands\",\"ALB\":\"Albania\",\"AND\":\"Andorra\",\"ARE\":\"United Arab Emirates\",\"ARG\":\"Argentina\",\"ARM\":\"Armenia\",\"ASM\":\"American Samoa\",\"ATA\":\"Antarctica\",\"ATF\":\"French Southern Territories\",\"ATG\":\"Antigua and Barbuda\",\"AUS\":\"Australia\",\"AUT\":\"Austria\",\"AZE\":\"Azerbaijan\",\"BDI\":\"Burundi\",\"BEL\":\"Belgium\",\"BEN\":\"Benin\",\"BES\":\"Bonaire, Sint Eustatius and Saba\",\"BFA\":\"Burkina Faso\",\"BGD\":\"Bangladesh\",\"BGR\":\"Bulgaria\",\"BHR\":\"Bahrain\",\"BHS\":\"Bahamas\",\"BIH\":\"Bosnia and Herzegovina\",\"BLM\":\"Saint Barthélemy\",\"BLR\":\"Belarus\",\"BLZ\":\"Belize\",\"BMU\":\"Bermuda\",\"BOL\":\"Bolivia, Plurinational State of\",\"BRA\":\"Brazil\",\"BRB\":\"Barbados\",\"BRN\":\"Brunei Darussalam\",\"BTN\":\"Bhutan\",\"BVT\":\"Bouvet Island\",\"BWA\":\"Botswana\",\"CAF\":\"Central African Republic\",\"CAN\":\"Canada\",\"CCK\":\"Cocos (Keeling) Islands\",\"CHE\":\"Switzerland\",\"CHL\":\"Chile\",\"CHN\":\"China\",\"CIV\":\"Côte d'Ivoire\",\"CMR\":\"Cameroon\",\"COD\":\"Congo, the Democratic Republic of the\",\"COG\":\"Congo\",\"COK\":\"Cook Islands\",\"COL\":\"Colombia\",\"COM\":\"Comoros\",\"CPV\":\"Cabo Verde\",\"CRI\":\"Costa Rica\",\"CUB\":\"Cuba\",\"CUW\":\"Curaçao\",\"CXR\":\"Christmas Island\",\"CYM\":\"Cayman Islands\",\"CYP\":\"Cyprus\",\"CZE\":\"Czechia\",\"D\":\"Germany\",\"DEU\":\"Germany\",\"DJI\":\"Djibouti\",\"DMA\":\"Dominica\",\"DNK\":\"Denmark\",\"DOM\":\"Dominican Republic\",\"DZA\":\"Algeria\",\"ECU\":\"Ecuador\",\"EGY\":\"Egypt\",\"ERI\":\"Eritrea\",\"ESH\":\"Western Sahara\",\"ESP\":\"Spain\",\"EST\":\"Estonia\",\"ETH\":\"Ethiopia\",\"FIN\":\"Finland\",\"FJI\":\"Fiji\",\"FLK\":\"Falkland Islands (Malvinas)\",\"FRA\":\"France\",\"FRO\":\"Faroe Islands\",\"FSM\":\"Micronesia, Federated States of\",\"GAB\":\"Gabon\",\"GBD\":\"British Overseas Territories Citizen (BOTC)\",\"GBN\":\"British National (Overseas)\",\"GBO\":\"British Overseas Citizen\",\"GBP\":\"British Protected Person\",\"GBR\":\"United Kingdom\",\"GBS\":\"British Subject\",\"GEO\":\"Georgia\",\"GGY\":\"Guernsey\",\"GHA\":\"Ghana\",\"GIB\":\"Gibraltar\",\"GIN\":\"Guinea\",\"GLP\":\"Guadeloupe\",\"GMB\":\"Gambia\",\"GNB\":\"Guinea-Bissau\",\"GNQ\":\"Equatorial Guinea\",\"GRC\":\"Greece\",\"GRD\":\"Grenada\",\"GRL\":\"Greenland\",\"GTM\":\"Guatemala\",\"GUF\":\"French Guiana\",\"GUM\":\"Guam\",\"GUY\":\"Guyana\",\"HKG\":\"Hong Kong\",\"HMD\":\"Heard Island and McDonald Islands\",\"HND\":\"Honduras\",\"HRV\":\"Croatia\",\"HTI\":\"Haiti\",\"HUN\":\"Hungary\",\"IDN\":\"Indonesia\",\"IMN\":\"Isle of Man\",\"IND\":\"India\",\"IOT\":\"British Indian Ocean Territory\",\"IRL\":\"Ireland\",\"IRN\":\"Iran, Islamic Republic of\",\"IRQ\":\"Iraq\",\"ISL\":\"Iceland\",\"ISR\":\"Israel\",\"ITA\":\"Italy\",\"JAM\":\"Jamaica\",\"JEY\":\"Jersey\",\"JOR\":\"Jordan\",\"JPN\":\"Japan\",\"KAZ\":\"Kazakhstan\",\"KEN\":\"Kenya\",\"KGZ\":\"Kyrgyzstan\",\"KHM\":\"Cambodia\",\"KIR\":\"Kiribati\",\"KNA\":\"Saint Kitts and Nevis\",\"KOR\":\"Korea, Republic of\",\"KWT\":\"Kuwait\",\"LAO\":\"Lao People's Democratic Republic\",\"LBN\":\"Lebanon\",\"LBR\":\"Liberia\",\"LBY\":\"Libya\",\"LCA\":\"Saint Lucia\",\"LIE\":\"Liechtenstein\",\"LKA\":\"Sri Lanka\",\"LSO\":\"Lesotho\",\"LTU\":\"Lithuania\",\"LUX\":\"Luxembourg\",\"LVA\":\"Latvia\",\"MAC\":\"Macao\",\"MAF\":\"Saint Martin (French part)\",\"MAR\":\"Morocco\",\"MCO\":\"Monaco\",\"MDA\":\"Moldova, Republic of\",\"MDG\":\"Madagascar\",\"MDV\":\"Maldives\",\"MEX\":\"Mexico\",\"MHL\":\"Marshall Islands\",\"MKD\":\"Macedonia, the former Yugoslav Republic of\",\"MLI\":\"Mali\",\"MLT\":\"Malta\",\"MMR\":\"Myanmar\",\"MNE\":\"Montenegro\",\"MNG\":\"Mongolia\",\"MNP\":\"Northern Mariana Islands\",\"MOZ\":\"Mozambique\",\"MRT\":\"Mauritania\",\"MSR\":\"Montserrat\",\"MTQ\":\"Martinique\",\"MUS\":\"Mauritius\",\"MWI\":\"Malawi\",\"MYS\":\"Malaysia\",\"MYT\":\"Mayotte\",\"NAM\":\"Namibia\",\"NCL\":\"New Caledonia\",\"NER\":\"Niger\",\"NFK\":\"Norfolk Island\",\"NGA\":\"Nigeria\",\"NIC\":\"Nicaragua\",\"NIU\":\"Niue\",\"NLD\":\"Netherlands\",\"NOR\":\"Norway\",\"NPL\":\"Nepal\",\"NRU\":\"Nauru\",\"NZL\":\"New Zealand\",\"OMN\":\"Oman\",\"PAK\":\"Pakistan\",\"PAN\":\"Panama\",\"PCN\":\"Pitcairn\",\"PER\":\"Peru\",\"PHL\":\"Philippines\",\"PLW\":\"Palau\",\"PNG\":\"Papua New Guinea\",\"POL\":\"Poland\",\"PRI\":\"Puerto Rico\",\"PRK\":\"Korea, Democratic People's Republic of\",\"PRT\":\"Portugal\",\"PRY\":\"Paraguay\",\"PSE\":\"Palestine, State of\",\"PYF\":\"French Polynesia\",\"QAT\":\"Qatar\",\"REU\":\"Réunion\",\"ROU\":\"Romania\",\"RUS\":\"Russian Federation\",\"RWA\":\"Rwanda\",\"SAU\":\"Saudi Arabia\",\"SDN\":\"Sudan\",\"SEN\":\"Senegal\",\"SGP\":\"Singapore\",\"SGS\":\"South Georgia and the South Sandwich Islands\",\"SHN\":\"Saint Helena, Ascension and Tristan da Cunha\",\"SJM\":\"Svalbard and Jan Mayen\",\"SLB\":\"Solomon Islands\",\"SLE\":\"Sierra Leone\",\"SLV\":\"El Salvador\",\"SMR\":\"San Marino\",\"SOM\":\"Somalia\",\"SPM\":\"Saint Pierre and Miquelon\",\"SRB\":\"Serbia\",\"SSD\":\"South Sudan\",\"STP\":\"Sao Tome and Principe\",\"SUR\":\"Suriname\",\"SVK\":\"Slovakia\",\"SVN\":\"Slovenia\",\"SWE\":\"Sweden\",\"SWZ\":\"Swaziland\",\"SXM\":\"Sint Maarten (Dutch part)\",\"SYC\":\"Seychelles\",\"SYR\":\"Syrian Arab Republic\",\"TCA\":\"Turks and Caicos Islands\",\"TCD\":\"Chad\",\"TGO\":\"Togo\",\"THA\":\"Thailand\",\"TJK\":\"Tajikistan\",\"TKL\":\"Tokelau\",\"TKM\":\"Turkmenistan\",\"TLS\":\"Timor-Leste\",\"TON\":\"Tonga\",\"TTO\":\"Trinidad and Tobago\",\"TUN\":\"Tunisia\",\"TUR\":\"Turkey\",\"TUV\":\"Tuvalu\",\"TWN\":\"Taiwan, Province of China\",\"TZA\":\"Tanzania, United Republic of\",\"UGA\":\"Uganda\",\"UKR\":\"Ukraine\",\"UMI\":\"United States Minor Outlying Islands\",\"UNA\":\"specialized agency of the United Nations\",\"UNK\":\"Resident of Kosovo issued byUNMIK\",\"UNO\":\"United Nations organization\",\"URY\":\"Uruguay\",\"USA\":\"United States of America\",\"UZB\":\"Uzbekistan\",\"VAT\":\"Holy See (Vatican City State)\",\"VCT\":\"Saint Vincent and the Grenadines\",\"VEN\":\"Venezuela, Bolivarian Republic of\",\"VGB\":\"Virgin Islands, British\",\"VIR\":\"Virgin Islands, U.S.\",\"VNM\":\"Viet Nam\",\"VUT\":\"Vanuatu\",\"WLF\":\"Wallis and Futuna\",\"WSA\":\"World Service Authority World Passport\",\"WSM\":\"Samoa\",\"XOM\":\"Sovereign Military Order of Malta\",\"XXA\":\"Stateless person\",\"XXB\":\"Refugee, as per the 1951 Convention\",\"XXC\":\"Refugee, other than defined above\",\"XXX\":\"Unspecified nationality\",\"YEM\":\"Yemen\",\"ZAF\":\"South Africa\",\"ZMB\":\"Zambia\",\"ZWE\":\"Zimbabwe\"};\r\nmodule.exports=COUNTRIES;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/generated/countries.js\n// module id = 11\n// module chunks = 0","'use strict';\n\nvar check = require('./check');\n\nmodule.exports = function parseDate(value, checkDigit) {\n    var result = {\n        error: [],\n        source: value\n    };\n    result.year = value.substring(0, 2);\n    result.month = value.substring(2, 4);\n    result.day = value.substring(4, 6);\n    result.value = result.day + '.' + result.month + '.' + result.year;\n    if (checkDigit !== false && !check(value, checkDigit)) {\n        result.error.push('Check digit \"' + checkDigit + '\" not valid');\n    }\n    if (result.month < 1 || result.month > 12) {\n        result.error.push('Month \"' + result.month + '\" not valid');\n    }\n    if (result.day < 1 || result.day > 31) {\n        result.error.push('Day \"' + result.day + '\" not valid');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseDate.js\n// module id = 12\n// module chunks = 0","'use strict';\n\nvar parseDate = require('./parseDate');\n\nmodule.exports = function parseExpirationDate(value, checkDigit) {\n    var result = parseDate(value, checkDigit);\n    result.label = 'Expiration date';\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseExpirationDate.js\n// module id = 13\n// module chunks = 0","'use strict';\n\nvar parseCountry = require('./parseCountry');\n\nmodule.exports = function parseIssuingCountry(value) {\n    var result = parseCountry(value);\n    result.label = 'Issuing country';\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseIssuingCountry.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nvar parseCountry = require('./parseCountry');\n\nmodule.exports = function parseIssuingCountry(value) {\n    var result = parseCountry(value);\n    result.label = 'Nationality';\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseNationality.js\n// module id = 15\n// module chunks = 0","'use strict';\n\nvar parseTD1 = require('./td1');\nvar parseTD2 = require('./td2');\nvar parseTD3 = require('./td3');\nvar parsePCC = require('./pcc');\n\nmodule.exports = function parse(text) {\n    var lines = text.split(/[\\r\\n]+/);\n    var result = {logs: []};\n    switch (lines.length) {\n        case 2:\n            if (lines[0].length < 41) {\n                result = parseTD2(lines);\n            } else {\n                result = parseTD3(lines);\n            }\n            break;\n        case 3:\n            if (lines[0].length < 15) { // in fact it should be 9\n                result = parsePCC(lines);\n            } else {\n                result = parseTD1(lines);\n            }\n\n            break;\n        default:\n            result.logs.push('We need 2 or 3 lines');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parse/parse.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nvar parsePCCDocumentNumber = require('../util/pcc/parseDocumentNumber');\nvar parsePCCDocumentType = require('../util/pcc/parseDocumentType');\nvar parseCountry = require('../util/parseCountry');\nvar parseBirthdayDate = require('../util/parseBirthdayDate');\nvar parseNumber = require('../util/parseNumber');\nvar checkSeparator = require('../util/checkSeparator');\nvar finalAnalysis = require('../util/totalCheck');\nvar parseFirstname = require('../util/parseFirstname');\nvar parseLastname = require('../util/parseLastname');\n\nmodule.exports = function parseTD1(lines) {\n    var result = {\n        format: 'PCC',\n        error: []\n    };\n    var first = lines[0];\n    if (first.length !== 9) {\n        result.error.push('First line does not have 9 symbols');\n    }\n    var second = lines[1];\n    if (second.length !== 30) {\n        result.error.push('Second line does not have 30 symbols');\n    }\n    var third = lines[2];\n    if (third.length !== 30) {\n        result.error.push('Third line does not have 30 symbols');\n    }\n\n    result.documentNumber = parsePCCDocumentNumber(first);\n    result.documentType = parsePCCDocumentType(second.substring(0, 2));\n    result.issuingCountry = parseCountry(second.substring(2, 5));\n    result.nipCode = parseNumber('NIP code', second.substring(5, 14));\n    result.version = parseNumber('Version', second.substring(14, 17));\n    result.separator1 = checkSeparator('Separator second line 18-19', second.substring(17, 19));\n    result.birthDate = parseBirthdayDate(second.substring(19, 25), false);\n    result.separator1 = checkSeparator('Separator second line 26-30', second.substring(25, 30));\n    result.lastname = parseFirstname('Lastname', third.substring(0, 30));\n    result.firstname = parseLastname('Firstname', third.substring(0, 30));\n    finalAnalysis(result);\n\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parse/pcc.js\n// module id = 17\n// module chunks = 0","'use strict';\n\nvar globalCheck = require('../util/globalCheck');\nvar parseText = require('../util/parseText');\nvar parseSex = require('../util/parseSex');\nvar parseDocumentNumber = require('../util/parseDocumentNumber');\nvar parseDocumentType = require('../util/parseDocumentType');\nvar parseNationality = require('../util/parseNationality');\nvar parseIssuingCountry = require('../util/parseIssuingCountry');\nvar parseBirthdayDate = require('../util/parseBirthdayDate');\nvar finalAnalysis = require('../util/totalCheck');\nvar parseFirstname = require('../util/parseFirstname');\nvar parseLastname = require('../util/parseLastname');\n\nmodule.exports = function parseTD1(lines) {\n    var result = {\n        format: 'TD1',\n        error: []\n    };\n    var first = lines[0];\n    var second = lines[1];\n    var third = lines[2];\n\n    if (first.length !== 30) {\n        result.error.push('First line does not have 30 symbols');\n    }\n    result.documentType = parseDocumentType(first.substring(0, 2));\n    result.issuingCountry = parseIssuingCountry(first.substring(2, 5));\n    result.optional1 = parseText('Optional 1', first.substring(15, 30));\n    result.documentNumber = parseDocumentNumber(first.substring(5, 14), first.substr(14, 1), result.optional1.value);\n\n    if (second.length !== 30) {\n        result.error.push('Second line does not have 30 symbols');\n    }\n    result.birthDate = parseBirthdayDate(second.substring(0, 6), second.substr(6, 1));\n    result.sex = parseSex(second.substr(7, 1));\n    result.expirationDate = parseBirthdayDate(second.substring(8, 14), second.substr(14, 1));\n    result.nationality = parseNationality(second.substring(15, 18), second.substr(18, 1));\n    result.optional2 = parseText('Optional 2', second.substring(18, 29));\n\n    if (third.length !== 30) {\n        result.error.push('Third line does not have 30 symbols');\n    }\n    result.lastname = parseFirstname('Lastname', third.substring(0, 30));\n    result.firstname = parseLastname('Firstname', third.substring(0, 30));\n    result.globalCheck = globalCheck(first.substring(5, 30) + second.substring(0, 7) + second.substring(8, 15) + second.substring(18, 29), second.substr(29, 1));\n\n    finalAnalysis(result);\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parse/td1.js\n// module id = 18\n// module chunks = 0","'use strict';\n\nvar globalCheck = require('../util/globalCheck');\nvar parseSex = require('../util/parseSex');\nvar parseDocumentNumber = require('../util/parseDocumentNumber');\nvar parseDocumentType = require('../util/parseDocumentType');\nvar parseNationality = require('../util/parseNationality');\nvar parseIssuingCountry = require('../util/parseIssuingCountry');\nvar parseBirthdayDate = require('../util/parseBirthdayDate');\nvar parseExpirationDate = require('../util/parseExpirationDate');\nvar finalAnalysis = require('../util/totalCheck');\nvar parseFirstname = require('../util/parseFirstname');\nvar parseLastname = require('../util/parseLastname');\n\nmodule.exports = function parseTD3(lines) {\n    var result = {\n        error: [],\n        format: 'TD2'\n    };\n\n    var first = lines[0];\n    var second = lines[1];\n\n    if (first.length !== 36) {\n        result.error.push('First line does not have 36 symbols');\n    }\n    result.documentType = parseDocumentType(first.substring(0, 2));\n    result.issuingCountry = parseIssuingCountry(first.substring(2, 5));\n    result.lastname = parseFirstname('Lastname', first.substring(5, 36));\n    result.firstname = parseLastname('Firstname', first.substring(5, 36));\n\n    if (second.length !== 36) {\n        result.error.push('Second line does not have 36 symbols');\n    }\n    result.documentNumber = parseDocumentNumber(second.substring(0, 9), second.substr(9, 1), second.substr(28, 35));\n    result.nationality = parseNationality(second.substring(10, 13));\n    result.birthDate = parseBirthdayDate(second.substring(13, 19), second.substr(19, 1));\n    result.sex = parseSex(second.substring(20, 21));\n    result.expirationDate = parseExpirationDate(second.substring(21, 27), second.substr(27, 1));\n\n    result.globalCheck = globalCheck(second.substring(0, 10) + second.substring(13, 20) + second.substring(21, 35), second.substr(35, 1));\n    finalAnalysis(result);\n\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parse/td2.js\n// module id = 19\n// module chunks = 0","'use strict';\n\nvar globalCheck = require('../util/globalCheck');\nvar parseSex = require('../util/parseSex');\nvar parseDocumentNumber = require('../util/parseDocumentNumber');\nvar parseDocumentType = require('../util/parseDocumentType');\nvar parseCountry = require('../util/parseCountry');\nvar parseBirthdayDate = require('../util/parseBirthdayDate');\nvar parseExpirationDate = require('../util/parseExpirationDate');\nvar finalAnalysis = require('../util/totalCheck');\nvar parseFirstname = require('../util/parseFirstname');\nvar parseLastname = require('../util/parseLastname');\nvar parsePersonalNumber = require('../util/parsePersonalNumber');\n\nmodule.exports = function parseTD3(lines) {\n    var result = {\n        error: [],\n        format: 'TD3'\n    };\n\n    var first = lines[0];\n    var second = lines[1];\n\n    if (first.length !== 44) {\n        result.error.push('First line does not have 44 symbols');\n    }\n    result.documentType = parseDocumentType(first.substring(0, 2));\n    result.issuingCountry = parseCountry(first.substring(2, 5));\n    result.lastname = parseFirstname('Lastname', first.substring(5, 50));\n    result.firstname = parseLastname('Firstname', first.substring(5, 50));\n    result.documentNumber = parseDocumentNumber(second.substring(0, 9), second.substr(9, 1));\n    result.nationality = parseCountry(second.substring(10, 13));\n    result.birthDate = parseBirthdayDate(second.substring(13, 19), second.substr(19, 1));\n\n    if (second.length !== 44) {\n        result.error.push('Second line does not have 44 symbols');\n    }\n    result.sex = parseSex(second.substring(20, 21));\n    result.expirationDate = parseExpirationDate(second.substring(21, 27), second.substr(27, 1));\n    result.personalNumber = parsePersonalNumber(second.substring(28, 42));\n    result.globalCheck = globalCheck(second.substring(0, 10) + second.substring(13, 20) + second.substring(21, 43), second.substr(43, 1));\n    finalAnalysis(result);\n\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parse/td3.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nmodule.exports = function checkSeparator(label, source) {\n    var result = {\n        source,\n        error: [],\n        label\n    };\n    if (!source.match(/^<*$/)) {\n        result.error.push('The separator must be composed only by \"<\"');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/checkSeparator.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nmodule.exports = function cleanText(string) {\n    return string.replace(/<+$/g, '').replace(/</g, ' ');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/cleanText.js\n// module id = 22\n// module chunks = 0","'use strict';\n\nmodule.exports = function parseNumber(label, source) {\n    var result = {\n        error: [],\n        label,\n        source\n    };\n    if (!source.match(/^[0-9]+$/)) {\n        result.error.push('It may only be composed of numbers');\n    }\n\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parseNumber.js\n// module id = 23\n// module chunks = 0","'use strict';\n\nvar parseText = require('./parseText');\nvar check = require('./check');\n\nmodule.exports = function parseExpirationDate(value, checkDigit) {\n    var result = parseText('Personal number', value, /^[A-Z0-9<]+<*$/);\n    if (checkDigit && !check(value, checkDigit)) {\n        result.error.push('Check digit \"' + checkDigit + '\" not valid');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/parsePersonalNumber.js\n// module id = 24\n// module chunks = 0","'use strict';\n\n\nmodule.exports = function parseDocumentNumber(source) { // swiss driving license number\n    var first = source.substring(0, 3);\n    var second = source.substring(3, 6);\n    var language = source.charAt(6);\n    var end = source.substring(7);\n\n    var result = {\n        label: 'Document number',\n        source,\n        error: []\n    };\n    if (!first.match(/^[A-Z]{3}$/)) {\n        result.error.push(`The document number \"${source}\" is incorrect. Need to start by 3 uppercase letters.`);\n    }\n    if (!second.match(/^[0-9]{3}$/)) {\n        result.error.push(`The document number \"${source}\" is incorrect. Need to have 3 digits in position 3, 4 and 5.`);\n    }\n    if (end !== '<<') {\n        result.error.push(`The document number \"${source}\" is incorrect. Need to end with <<.`);\n    }\n    var languageDescription;\n    switch (language) {\n        case 'D':\n            languageDescription = 'German';\n            break;\n        case 'F':\n            languageDescription = 'French';\n            break;\n        case 'I':\n            languageDescription = 'Italian';\n            break;\n        case 'R':\n            languageDescription = 'Romansh';\n            break;\n        default:\n            result.error.push(`The document number \"${source}\" is incorrect. Language ${language} unknown.`);\n    }\n    result.value = first + second + ' - language: ' + languageDescription;\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/pcc/parseDocumentNumber.js\n// module id = 25\n// module chunks = 0","'use strict';\n\nmodule.exports = function parseDocumentType(source) {\n    var result = {\n        label: 'Document type',\n        source,\n        error: []\n    };\n    switch (result.source) {\n        case 'FA':\n            result.value = 'Swiss driving license';\n            break;\n        default:\n            result.error.push('Swiss driving license must have a document type \"FA\"');\n    }\n    return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/pcc/parseDocumentType.js\n// module id = 26\n// module chunks = 0","'use strict';\n\n\nconst COUNTRIES = require('./generated/countries');\nconst parse = require('./parse/parse');\n\n\nmodule.exports = {\n    COUNTRIES,\n    parse\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 27\n// module chunks = 0"],"sourceRoot":""}